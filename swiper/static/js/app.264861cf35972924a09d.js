webpackJsonp([1],{"7p6Z":function(t,e){},AGy7:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=function(){},r={name:"curry-swiper",props:{count:{type:[Number,String],default:0},perspective:{type:[Number,String],default:35},display:{type:[Number,String],default:3},loop:{type:Boolean,default:!0},animationSpeed:{type:[Number,String],default:500},dir:{type:String,default:"ltr"},width:{type:[Number,String],default:360},height:{type:[Number,String],default:270},border:{type:[Number,String],default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:[Number,String],default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:[Number,String],default:300},onLastSlide:{type:Function,default:s},onSlideChange:{type:Function,default:s},bias:{type:String,default:"left"},onMainSlideClick:{type:Function,default:s}},data:function(){return{viewport:0,currentIndex:0,total:0,dragOffset:0,dragStartX:0,mousedown:!1,zIndex:998}},watch:{count:function(){this.computeData()}},computed:{isLastSlide:function(){return this.currentIndex===this.total-1},isFirstSlide:function(){return 0===this.currentIndex},isNextPossible:function(){return!(!this.loop&&this.isLastSlide)},isPrevPossible:function(){return!(!this.loop&&this.isFirstSlide)},slideWidth:function(){var t=this.viewport,e=parseInt(this.width)+2*parseInt(this.border,10);return t<e?t:e},slideHeight:function(){var t=parseInt(this.width,10)+2*parseInt(this.border,10),e=parseInt(parseInt(this.height)+2*this.border,10),i=this.calculateAspectRatio(t,e);return this.slideWidth/i},visible:function(){return this.display>this.total?this.total:this.display},hasHiddenSlides:function(){return this.total>this.visible},leftIndices:function(){var t=(this.visible-1)/2;t="left"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t);for(var e=[],i=1;i<=t;i++)e.push("ltr"===this.dir?(this.currentIndex+i)%this.total:(this.currentIndex-i)%this.total);return e},rightIndices:function(){var t=(this.visible-1)/2;t="right"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t);for(var e=[],i=1;i<=t;i++)e.push("ltr"===this.dir?(this.currentIndex-i)%this.total:(this.currentIndex+i)%this.total);return e},leftOutIndex:function(){var t=(this.visible-1)/2;return t="left"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t),t++,"ltr"===this.dir?this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t:this.currentIndex-t},rightOutIndex:function(){var t=(this.visible-1)/2;return t="right"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t),t++,"ltr"===this.dir?this.currentIndex-t:this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t,10):this.currentIndex+t}},methods:{goNext:function(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev:function(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide:function(t){var e=this;this.currentIndex=t<0||t>this.total-1?0:t,this.isLastSlide&&(this.onLastSlide!==s&&console.warn("onLastSlide deprecated, please use @last-slide"),this.onLastSlide(this.currentIndex),this.$emit("last-slide",this.currentIndex)),this.$emit("before-slide-change",this.currentIndex),setTimeout(function(){return e.animationEnd()},this.animationSpeed)},goFar:function(t){var e=this,i=t===this.total-1&&this.isFirstSlide?-1:t-this.currentIndex;this.isLastSlide&&0===t&&(i=1);for(var n=i<0?-i:i,s=0,r=0;r<n;){r+=1,setTimeout(function(){return i<0?e.goPrev(n):e.goNext(n)},1===n?0:s),s+=this.animationSpeed/n}},animationEnd:function(){this.onSlideChange!==s&&console.warn("onSlideChange deprecated, please use @after-slide-change"),this.onSlideChange(this.currentIndex),this.$emit("after-slide-change",this.currentIndex)},handleMouseup:function(){this.mousedown=!1,this.dragOffset=0},handleMousedown:function(t){t.touches||t.preventDefault(),this.mousedown=!0,this.dragStartX="ontouchstart"in window?t.touches[0].clientX:t.clientX},handleMousemove:function(t){if(this.mousedown){var e="ontouchstart"in window?t.touches[0].clientX:t.clientX,i=this.dragStartX-e;this.dragOffset=i,this.dragOffset>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffset<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev())}},attachMutationObserver:function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(e){this.mutationObserver=new e(function(){t.$nextTick(function(){t.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,{attributes:!0,childList:!0,characterData:!0})}},detachMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount:function(){return void 0!==this.$slots.default?this.$slots.default.filter(function(t){return void 0!==t.tag}).length:0},calculateAspectRatio:function(t,e){return Math.min(t/e)},computeData:function(t){this.total=this.getSlideCount(),(t||this.currentIndex>=this.total)&&(this.currentIndex=parseInt(this.startIndex)>this.total-1?this.total-1:parseInt(this.startIndex)),this.viewport=this.$el.clientWidth},setSize:function(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"}},mounted:function(){this.computeData(!0),this.attachMutationObserver(),this.$isServer||(window.addEventListener("resize",this.setSize),"ontouchstart"in window?(this.$el.addEventListener("touchstart",this.handleMousedown),this.$el.addEventListener("touchend",this.handleMouseup),this.$el.addEventListener("touchmove",this.handleMousemove)):(this.$el.addEventListener("mousedown",this.handleMousedown),this.$el.addEventListener("mouseup",this.handleMouseup),this.$el.addEventListener("mousemove",this.handleMousemove)))},beforeDestroy:function(){this.$isServer||(this.detachMutationObserver(),"ontouchstart"in window?this.$el.removeEventListener("touchmove",this.handleMousemove):this.$el.removeEventListener("mousemove",this.handleMousemove),window.removeEventListener("resize",this.setSize))}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"carousel-3d-container",style:{height:this.slideHeight+"px"}},[e("div",{staticClass:"carousel-3d-slider",style:{width:this.slideWidth+"px",height:this.slideHeight+"px"}},[this._t("default")],2)])},staticRenderFns:[]};var h=i("VU/8")(r,a,!1,function(t){i("AGy7")},"data-v-b8a658dc",null).exports,o=i("bOdI"),d=i.n(o),u=i("woOf"),l=i.n(u),c={name:"curry-slide",props:{index:{type:Number}},data:function(){return{parent:this.$parent,styles:{},zIndex:999}},computed:{isCurrent:function(){return this.index===this.parent.currentIndex},leftIndex:function(){return this.getSideIndex(this.parent.leftIndices)},rightIndex:function(){return this.getSideIndex(this.parent.rightIndices)},slideStyle:function(){var t={};if(!this.isCurrent){var e=this.leftIndex,i=this.rightIndex;(e>=0||i>=0)&&((t=e>=0?this.calculatePosition(e,!0,this.zIndex):this.calculatePosition(i,!1,this.zIndex)).opacity=1,t.visibility="visible"),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?t=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(t=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return l()(t,{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"})},computedClasses:function(){var t;return t={},d()(t,"left-"+(this.leftIndex+1),this.leftIndex>=0),d()(t,"right-"+(this.rightIndex+1),this.rightIndex>=0),d()(t,"current",this.isCurrent),t}},methods:{getSideIndex:function(t){var e=this,i=-1;return t.forEach(function(t,n){e.matchIndex(t)&&(i=n)}),i},matchIndex:function(t){return t>=0?this.index===t:this.parent.total+t===this.index},calculatePosition:function(t,e,i){var n=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+100*(t+1),s=this.parent.disable3d?0:parseInt(this.parent.perspective),r="auto"===this.parent.space?parseInt((t+1)*(this.parent.width/1.2),10):parseInt((t+1)*this.parent.space,10);return{transform:e?"translateX("+r+"px) translateZ(-"+n+"px) rotateY(-"+s+"deg)":"translateX(-"+r+"px) translateZ(-"+n+"px) rotateY("+s+"deg)",top:"auto"===this.parent.space?0:parseInt((t+1)*this.parent.space),zIndex:i-(Math.abs(t)+1)}},goTo:function(){this.isCurrent?this.parent.onMainSlideClick():!0===this.parent.clickable&&this.parent.goFar(this.index)}}},p={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"carousel-3d-slide",class:t.computedClasses,style:t.slideStyle,on:{click:function(e){return t.goTo()}}},[t._t("default",null,{index:t.index,isCurrent:t.isCurrent,leftIndex:t.leftIndex,rightIndex:t.rightIndex})],2)},staticRenderFns:[]};var f={name:"App",components:{currySwiper:h,currySlide:i("VU/8")(c,p,!1,function(t){i("RmzH")},null,null).exports},data:function(){return{sceneList:[{img:"https://2fz1.me/img/phaser.jpg"},{img:"https://2fz1.me/img/css3.png"},{img:"https://2fz1.me/img/nodemodules.jpg"},{img:"https://2fz1.me/img/js.jpg"}]}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("curry-swiper",{ref:"swiper",attrs:{width:195,space:112,inverseScaling:400,height:107,perspective:14,border:3,count:10}},t._l(t.sceneList,function(e,n){return i("curry-slide",{key:n,attrs:{index:n},scopedSlots:t._u([{key:"default",fn:function(t){var n=t.index,s=t.isCurrent,r=t.leftIndex,a=t.rightIndex;return[i("img",{class:{current:s,onLeft:r>=0,onRight:a>=0},attrs:{"data-index":n,src:e.img}})]}}],null,!0)})}),1)],1)},staticRenderFns:[]};var m=i("VU/8")(f,g,!1,function(t){i("7p6Z")},null,null).exports;new n.a({el:"#app",components:{App:m},template:"<App/>"})},RmzH:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.264861cf35972924a09d.js.map